{% extends "./layout.html" %}

{% block title %}{{ page.title }} Â· {{ super() }}{% endblock %}

{% block description %}{{ page.description }}{% endblock %}

{% block head %}
{{ super() }}
{% if page.next and page.next.path %}
<link rel="next" href="{{ page.next.path|resolveFile }}" />
{% endif %}
{% if page.previous and page.previous.path %}
<link rel="prev" href="{{ page.previous.path|resolveFile }}" />
{% endif %}
{% endblock %}

{% block javascript %}
<script src="{{ " gitbook.js"|resolveAsset }}"></script>
<script src="{{ " theme.js"|resolveAsset }}"></script>
{% for resource in plugins.resources.js %}
{% if resource.url %}
<script src="{{ resource.url }}"></script>
{% else %}
<script src="{{ resource.path|resolveAsset }}"></script>
{% endif %}
{% endfor %}
{% endblock %}

{% block body %}
<div class="book">
    <div class="book-summary">
        {% block book_sidebar %}
        {% block search_input %}{% endblock %}
        {% block book_summary %}
        <nav role="navigation">
            {% include "website/summary.html" %}
        </nav>
        {% endblock %}
        {% endblock %}
    </div>

    <div class="book-body">
        {% block book_body %}
        <div class="body-inner">
            {% block book_inner %}
            {% include "website/header.html" %}
            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                    {% block search_results %}
                    <section class="normal markdown-section">
                        {% block page %}
                        {{ page.content|safe }}

                        <!--JS Interpreter section below the main content of the file-->>
                        <div
                            style="background-color: #fff; padding-bottom: 20px; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); max-width: 600px; margin: 0 auto;">
                            <h2
                                style="color: #444; margin-top: -20px; font-size: 24px; margin-bottom: 20px; text-align: center;">
                                Try Yourself!</h2>
                            <textarea id="code" rows="10" cols="50"
                                style="width: 100%; height: 150px; font-family: 'Courier New', Courier, monospace; font-size: 16px; padding: 10px; border-radius: 5px; border: 1px solid #ddd; box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1); transition: border-color 0.3s;"
                                placeholder="// Write your JavaScript code here"></textarea><br>
                            <button id="run"
                                style="width: 100%; padding: 10px; font-size: 16px; color: #fff; background-color: #007bff; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px; transition: background-color 0.3s;">Run
                                Code</button><br>
                            <h3 style="color: #444; font-size: 20px; margin-top: 20px;">Output:</h3>
                            <pre id="output"
                                style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; border: 1px solid #ddd; color: #212529; white-space: pre-wrap; word-wrap: break-word; font-size: 16px; font-family: 'Courier New', Courier, monospace; box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);"></pre>
                        </div>

                        {% endblock %}
                    </section>
                    {% endblock %}
                </div>
            </div>
            {% endblock %}
        </div>

        {% block book_navigation %}
        {% if page.previous and page.previous.path %}
        <a href="{{ page.previous.path|resolveFile }}{{ page.previous.anchor }}"
            class="navigation navigation-prev {% if not (page.next and page.next.path) %}navigation-unique{% endif %}"
            aria-label="Previous page: {{ page.previous.title }}">
            <i class="fa fa-angle-left"></i>
        </a>
        {% endif %}
        {% if page.next and page.next.path %}
        <a href="{{ page.next.path|resolveFile }}{{ page.next.anchor }}"
            class="navigation navigation-next {% if not (page.previous and page.previous.path) %}navigation-unique{% endif %}"
            aria-label="Next page: {{ page.next.title }}">
            <i class="fa fa-angle-right"></i>
        </a>
        {% endif %}
        {% endblock %}
        {% endblock %}
    </div>


    <script>
        var gitbook = gitbook || [];
        gitbook.push(function () {
            gitbook.page.hasChanged({{ template.getJSContext() | dump | safe }});
        });

        //JS Interpreter Code
        document.addEventListener('DOMContentLoaded', function () {
            var runButton = document.getElementById('run');
            var outputElement = document.getElementById('output');
            var codeElement = document.getElementById('code');

            runButton.addEventListener('click', function () {
                try {
                    var code = codeElement.value();
                    var result = eval(code);
                    outputElement.textContent = result;
                } catch (error) {
                    outputElement.textContent = 'Error' + error.message;
                }
            });
        });

    </script>
</div>
{% endblock %}